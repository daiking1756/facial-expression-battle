<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>SkyWay - P2P Media example</title>
    <link rel="stylesheet" href="/assets/css/style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/uikit@3.4.3/dist/css/uikit.min.css" />
  </head>
  <body>
    <div class="container uk-container">
      <h1 class="uk-heading-line uk-text-center"><span>Facial Expression Battle</span></h1>
      <p class="note">Enter remote peer ID to start Facial Expression Battle.</p>
      <p>Your ID: <span id="js-local-id" class="uk-text-bolder uk-text-primary">No User</span></p>

        <div class="uk-margin">
          <button id="js-call-trigger" class="uk-button uk-button-primary" onClick="callToRemote()">Call</button>
          <button id="js-close-trigger" class="uk-button uk-button-danger">Close</button>
          <button class="btn uk-button uk-button-default" data-clipboard-target="#js-invite-url" onClick="invite()">Invite</button>
          <button class="uk-button uk-button-default" onclick="processImage()">Battle</button>
          <label>taget facial expression: </label><span id="target-facial-expression" class="uk-text-bolder uk-text-default">????</span>
          <span id="countdown" class="uk-text-bolder uk-text-primary"></span>
        </div>
        <div class="uk-margin">
          <span id="js-invite-url" class="uk-text-bolder uk-text-primary"></span>
        </div>
        <div class="p2p-media">
        <div class="local-stream uk-card uk-card-default uk-card-body">
          <h4 class="uk-heading-line uk-text-center"><span>Local Stream</span></h4>
          <video id="js-local-stream"></video>
          <h4 class="uk-heading-line uk-text-center"><span>Local Snapshot</span></h4>
          <canvas id="local-canvas"></canvas>
        </div>
        <div class="remote-stream uk-card uk-card-default uk-card-body">
          <h4 class="uk-heading-line uk-text-center"><span>Remote Stream</span></h4>
          <video id="js-remote-stream"></video>
          <h4 class="uk-heading-line uk-text-center"><span>Remote Snapshot</span></h4>
          <canvas id="remote-canvas"></canvas>
        </div>
      </div>

      <div class="chart uk-card uk-card-default uk-card-body">
        <canvas id="emotion-chart"></canvas>
      </div>

      <p class="meta" id="js-meta"></p>
    </div>
    <script src="https://unpkg.com/clipboard@2/dist/clipboard.min.js"></script>
    <script src="//cdn.webrtc.ecl.ntt.com/skyway-latest.js"></script>
    <script src="/key.js"></script>
    <script src="/assets/js/get-param.js"></script>
    <script src="/assets/js/p2p-media.js"></script>
    <script src="/assets/js/face.js"></script>
    <script src="/assets/js/invite.js"></script>
  </body>
</html>
